Ndoqa kete video per hapat e para deri tek dokumenti, pasi krijova ambientet ne Ubuntu 20.4: 
https://www.youtube.com/watch?v=BrVHwQ-SJUA rreth 301 min 
github: Project code: https://github.com/justdjango/dream_blog

dokumenti:https://www.digitalocean.com/community/tutorials/how-to-set-up-django-with-postgres-nginx-and-gunicorn-on-ubuntu-20-04
video 2, me me shume detaje: https://www.youtube.com/watch?v=0PJjquyGTOQ rreth 1 ore e 5 min / 2019 
video e kursit blog(i njejti autor): https://codingwithmitch.com/courses/building-a-website-django-python/
https://github.com/mitchtabian/CodingWithMitch-Blog-Course

STEPS:
- digitalocean.com
- sign-in: 
    username: jee_ti@hotmail.com
    password: Albania2021
- verify 6 digits send by email

- Click on the left side: New Project - Emri: Journal

- Authentication: fromm SSH and Password I selected Password 
- Create password root password to access Droplet (less secure): 
    Root Password: 2021Journal

++++++++++++++++++++++++++++++++++++++++++
Users and Passwords:
+++++++++++++++++++++++++++++++++++++++++
DROPLET:
- Click: Create droplet 
        droplet name: journal, AMS3/1GB/25GB Disk  
        IP: 167.71.72.252 (it is important)
        Droplet tag: articles_in_django
= Domains(1): voixdufrance.com  3 NS / 1 SOA 
        User: root 
    Root Password: 2021Journal

        Added User: xhevo
        Password: Ubuntu20.04
    
    DATABASE:
            User: journal
        Password: 2021Journaldb
    
    MobaXterm:
        Master Password:MobaXterm2021
+++++++++++++++++++++++++++++++++++++++++++++++++++++++++

- in activated terminal, to your project, type: 
    (venv_fr).../newspaper/journaux-franÃ§ais (master):ssh root@167.71.72.252 and enter 

root@167.71.72.252's password:2021Journal and enter 

  System load:  0.0               Users logged in:       0
  Usage of /:   5.9% of 24.06GB   IPv4 address for eth0: 167.71.72.252
  Memory usage: 19%               IPv4 address for eth0: 10.18.0.5
  Swap usage:   0%                IPv4 address for eth1: 10.110.0.2
  Processes:    99/

root@journal:~#

- we are now in ubuntu server, in our droplet: journal 

- in terminal, you are:
     root@journal:~#


- Creating the PostgreSQL Database and User, copy and paste it: 
    root@journal:~# sudo -u postgres psql
    could not change directory to "/root": Permission denied
    psql (12.8 (Ubuntu 12.8-0ubuntu0.20.04.1))
    Type "help" for help.
    
    postgres=#

- now you are in postgres:
    postgres=#
- copy from tutorial: CREATE DATABASE myproject;
    replace myproject with your project name: journal
        CREATE DATABASE journal;  - must end with ;

    postgres=#CREATE DATABASE journal;
- create a database USER for our project. Make sure to select a secure password:
    copy from tutorial: CREATE USER myprojectuser WITH PASSWORD 'password';
    replace myprojectuser with journal - i selected this name for easy remember; 
                                        it is used also as the name of myproject 
    For us, db password:2021Journaldb

    CREATE USER journal WITH PASSWORD '2021Journaldb';  - do not forget ;

    DATABASE:
            dbname: journal
            User: journal
        Password: 2021Journaldb

    # follow are all commands we made.

    root@journal:~# sudo -u postgres psql
    could not change directory to "/root": Permission denied
    psql (12.8 (Ubuntu 12.8-0ubuntu0.20.04.1))
    Type "help" for help.

    postgres=# CREATE DATABASE journal;
    CREATE DATABASE
    postgres=# CREATE USER journal WITH PASSWORD '2021Journaldb';
   


        root@journal:~#mkdir ~/myprojectdir
        root@journal:~#cd ~/myprojectdir
############################################### here #################
    from vide 2: djangoprojectdir -> french-news 
                djangoprojectenv -> french_env

    - I selected as myprojectdir: french-news

        root@journal:~# mkdir ~/french-news
        root@journal:~#cd ~/french-news

- we are now:
    root@journal:~/french-news#

### in root dir; not in home/xhevo/french-news dir ??????


    Activate ENV: 
        
        root@journal:~/french-news#source env_news/bin/activate

- it is activated; It will look something like this: 

    (myprojectenv)user@host:~/myprojectdir$.
    (env_news) root@journal:~/french-news#


    (env_news) root@journal:~/french-news# 
- You should now have all of the software needed to start a Django project.

  warnings.warn(
    (env_news) root@journal:~/french-news# 
- this will be the content of dirs:


- Adjusting the Project Settings
    
- make replacements:
        myproject replace with journal
        myprojectdir replace with french-news


- video e dyte: https://www.youtube.com/watch?v=0PJjquyGTOQ
    - download and install mobaxterm.mobatek.net - editor per web server
    - Instalova MobaXterm 
    - Master Password:MobaXterm2021
    - per te aksesuar serverin me IP: 167.71.72.252 cliko Session, 
                                    paste IP - 
                                    click session - 
                                    click ssh - fut perseri 167.71.72.252
                                    specify username: root 
                                    ok - 
                                    in terminal enter password for your username: 2021Journal
                                    create master password: MobaXterm2021!
 
- Activate:
        root@journal:~/french-news#source env_news/bin/activate

System information as of Wed Sep 22 21:03:20 UTC 2021

  System load:  0.0               Users logged in:       1
  Usage of /:   8.0% of 24.06GB   IPv4 address for eth0: 167.71.72.252
  Memory usage: 24%               IPv4 address for eth0: 10.18.0.5
  Swap usage:   0%                IPv4 address for eth1: 10.110.0.2
  Processes:    115
               
- take care to be in root@journal:~#  or (env_news) root@journal:~/french-news#
 
    (env_news) root@journal:~/french-news# python manage.py runserver 0.0.0.0:8000
- open google browser and paste your IP address:
    167.71.72.252:8000
 
- run gunicorn:
    (env_news) root@journal:~/french-news# gunicorn --bind 0.0.0.0:8000 journal.wsgi

- refresh the page; it is running

##################################################################################

 - create service: 
    root@journal:~/french-news# sudo nano /etc/systemd/system/gunicorn.service
 copy from doc and paste to editor and make changes, as User, WorkingDir, ExecStart, mysite:
 Perdora si User xhevo 
    
[Unit]
Description=gunicorn daemon
Requires=gunicorn.socket
After=network.target

[Service]
User=xhevo
Group=www-data
WorkingDirectory=/home/xhevo/french-news
ExecStart=/home/xhevo/french-news/env_news/bin/gunicorn \
          --access-logfile - \
          --workers 3 \
          --bind unix:/run/gunicorn.sock \
          journal.wsgi:application

[Install]
WantedBy=multi-user.target

    curl --unix-socket /run/gunicorn.sock localhost

    IP: 167.71.72.252

- CREATE NON-ROOT USER 
video 2: permendur ne fillim; rreth min se 18-te dhe faqet ne vijim:
https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-20-04
https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-20-04

root@journal:~/# adduser xhevo  -V:O eshte me shkronja te vogla: xhevo
    root@journal:~# adduser xhevo
    Adding user `xhevo' ...
    Adding new group `xhevo' (1000) ...
    Adding new user `xhevo' (1000) with group `xhevo' ...
    Creating home directory `/home/xhevo' ...
    Copying files from `/etc/skel' ...

- PASSWORD:    Enter new password:Ubuntu20.04



WE WILL PUT OUR DJANGO PROJECT UNDER xhevo. But you can make any changes in root.

- As root, run this command to add your new user to the sudo group 
to give some permissions (19:52 e video 2):

        root@journal:~/# usermod -aG sudo xhevo

- test it: root@journal:~/# ssh xhevo@167.71.72.252
           xhevo@journal:~/#
    Lidhja u krye. Type: exit 
          root@journal:~/#

- we will stay logging with password for root and xhevo (not with ssh public and private keys)


###############################################################
 djangoprojectdir -> french-news 

- in home/xhevo: mkdir french-news 
- type: ls  - it is created 
- cd french-news/ 
- virtualenv french-env ???????????????????? -> djangoprojectenv 
- activate: source french-env 
        it is activated 
    (french-env) root@journal:/home/xhevo/french-news#

############ mitch run:  django-admin startproject mysite djangoprojectdir ###### mysite - > journal ##########

-
- python manage.py runserver 0.0.0.0:8000
- run the server manually -new tab in google: 
            167.71.72.252:8000  - del faqa 
- ctrl + c to stop the server 
- run server using gunicon: gunicorn --bind 0.0.0.0:8000 journal.wsgi
- refresh page; it works agin.

[Unit]
Description=gunicorn daemon
Requires=gunicorn.socket
After=network.target

[Service]
User=xhevo
Group=www-data
WorkingDirectory=/home/xhevo/french-news
ExecStart=/home/xhevo/french-news/french-env/bin/gunicorn \
          --access-logfile - \
          --workers 3 \
          --bind unix:/run/gunicorn.sock \
          journal.wsgi:application

[Install]
WantedBy=multi-user.target

- start the socket and enable:


ctrl + c 
    sudo systemctl daemon-reload
    sudo systemctl restart gunicorn

sudo shutdown -r now to stop the server then login again 


- be in home/xhevo: - change dir: /home/xhevo
- install Nginx
    sudo apt install nginx

- create nginx file:
    sudo nano /etc/nginx/sites-available/journal

- copy and paste to it: 
server {
    listen 80;
    server_name server_domain_or_IP;

    location = /favicon.ico { access_log off; log_not_found off; }
    location /static/ {
        root /home/sammy/myprojectdir;
    }

    location / {
        include proxy_params;
        proxy_pass http://unix:/run/gunicorn.sock;
    }
}

- server domain name: ns3.digitalocean.com.
                IP: 167.71.72.252

https://codingwithmitch.com/courses/building-a-website-django-python/bug-fixes-part-1/
https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-20-04
https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-20-04
https://github.com/justdjango/dream_blog/blob/master/blog/settings.py